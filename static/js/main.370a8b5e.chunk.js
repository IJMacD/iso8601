(this.webpackJsonpnull=this.webpackJsonpnull||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),i=n(10),u=n.n(i),a=(n(16),n(11)),o=n(3),l=n(1),c=n(6),d=n(7);function f(e){var t,n;return e instanceof Date?(t=e.getFullYear(),n=e.getMonth()):(t=e.year,n=e.month-1),1===n?t%400===0||t%4===0&&t%100!==0?29:28:[31,0,31,30,31,30,31,31,30,31,30,31][n]}function h(e){return e instanceof Date&&!isNaN(+e)}function m(e,t){var n=new Date(e);if(t.years){n.setFullYear(n.getFullYear()+t.years);var r=t.years%1;r&&n.setMonth(n.getMonth()+12*r)}if(t.months){n.setMonth(n.getMonth()+t.months);var s=t.months%1;s&&n.setDate(n.getDate()+s*f(n))}if(t.weeks){n.setDate(n.getDate()+7*t.weeks);var i=t.weeks%1;i&&n.setDate(n.getDate()+7*i)}if(t.days){n.setDate(n.getDate()+t.days);var u=t.days%1;u&&n.setTime(+n+24*u*60*60*1e3)}if(t.hours){n.setHours(n.getHours()+t.hours);var a=t.hours%1;a&&n.setTime(+n+60*a*60*1e3)}if(t.minutes){n.setMinutes(n.getMinutes()+t.minutes);var o=t.minutes%1;o&&n.setTime(+n+60*o*1e3)}if(t.seconds){n.setSeconds(n.getSeconds()+t.seconds);var l=t.seconds%1;l&&n.setTime(+n+1e3*l)}return n}function y(e){if(/^\d$/.test(e))return{millennium:+e};if(/^\d\d$/.test(e))return{century:+e};if(/^\d{3}$/.test(e))return{decade:+e};var t=/^([+-]\d{4,}|\d{4})/.exec(e);if(!t)return null;var n=+t[0];if(0===(e=e.substr(t[0].length)).length)return{year:n};if(t=/^-(\d{2})$/.exec(e)){var r=+t[1];return r<1||r>12?null:{year:n,month:r}}if(t=/^-?(\d{2})-?(\d{2})$/.exec(e)){var s=+t[1],i=+t[2];if(s<1||s>12)return null;var u={year:n,month:s,day:i};return i>f(u)?null:u}if(t=/^-?W(\d{2})$/.exec(e)){var a=+t[1];if(a<1||a>53)return null;var o={year:n,week:a},l=new b(o);return 53===a&&h(l.start)&&l.start.getFullYear()!==n?null:o}if(t=/^-?W(\d{2})-?(\d)$/.exec(e)){var c=+t[1];if(c<1||c>53)return null;var d=+t[2];if(d<1||d>7)return null;var m={year:n,week:c,weekDay:d},y=new b(m);return 53===c&&h(y.start)&&y.start.getFullYear()!==n?null:m}if(t=/^-?(\d{3})$/.exec(e)){new Date(n,0,1).setFullYear(n);var p=+t[1];if(p<1||p>366)return null;var v={year:n,yearDay:p},j=new b(v);return 366===p&&h(j.start)&&j.start.getFullYear()!==n?null:v}return null}function p(e){var t,n={};return(t=/(?:([+\u2212-]\d\d)(?::?(\d\d))?|Z)$/.exec(e))&&(t[1]?(n.zoneHour=+t[1].replace("\u2212","-"),t[2]&&(n.zoneMinute=+t[2])):(n.zoneHour=0,n.zoneMinute=0),e=e.substr(0,e.length-t[0].length)),t&&0===e.length?n:(t=/^(\d{2})$/.exec(e))?(n.hour=+t[1],n):(t=/^(\d{2}):?(\d{2})$/.exec(e))?(n.hour=+t[1],n.minute=+t[2],n):(t=/^(\d{2}):?(\d{2}):?(\d\d(?:\.\d+)?)$/.exec(e))?(n.hour=+t[1],n.minute=+t[2],n.second=+t[3],n):null}var b=function(){function e(t){Object(c.a)(this,e),Object.assign(this,t)}return Object(d.a)(e,[{key:"start",get:function(){var e,t=this.year,n=this.yearDay,r=this.week,s=this.weekDay,i=this.month,u=void 0===i?1:i,a=this.day,o=void 0===a?1:a;if("number"===typeof this.millennium)(e=new Date(1e3*this.millennium,0,1)).setFullYear(1e3*this.millennium);else if("number"===typeof this.century)(e=new Date(100*this.century,0,1)).setFullYear(100*this.century);else if("number"===typeof this.decade)(e=new Date(10*this.decade,0,1)).setFullYear(10*this.decade);else{if("number"!==typeof t)throw Error("Invalid DateTime");if((e=new Date(t,u-1,o)).setFullYear(t),"number"===typeof n)e=new Date(+e+864e5*(n-1));else if("number"===typeof r){var l=[2,1,0,-1,-2,4,3][e.getDay()];e.setDate(l),e=new Date(+e+7*(r-1)*864e5),"number"===typeof s&&e.setDate(e.getDate()+s-1)}}if("number"===typeof this.hour&&(e.setHours(this.hour),"number"===typeof this.minute&&(e.setMinutes(this.minute),"number"===typeof this.second&&e.setSeconds(this.second))),"number"===typeof this.zoneHour){var c=60*-(("number"===typeof this.zoneMinute?60*this.zoneHour+Math.sign(this.zoneHour)*this.zoneMinute:60*this.zoneHour)+e.getTimezoneOffset())*1e3;e.setTime(+e+c)}return e}},{key:"end",get:function(){var e=new Date(this.start);return"number"===typeof this.second?e.setSeconds(this.second+1):"number"===typeof this.minute?e.setMinutes(this.minute+1):"number"===typeof this.hour?e.setHours(this.hour+1):"number"===typeof this.day?e.setDate(this.day+1):"number"===typeof this.month?e.setMonth(this.month):"number"===typeof this.yearDay||"number"===typeof this.weekDay?e.setDate(e.getDate()+1):"number"===typeof this.week?e.setDate(e.getDate()+7):"number"===typeof this.year?e.setFullYear(this.year+1):"number"===typeof this.decade?e.setFullYear(10*(this.decade+1)):"number"===typeof this.century?e.setFullYear(100*(this.century+1)):"number"===typeof this.millennium&&e.setFullYear(1e3*(this.millennium+1)),e}}],[{key:"parse",value:function(e){if(/T/.test(e)){var t=e.split("T",2),n=Object(l.a)(t,2),r=n[0],s=n[1],i=y(r),u=p(s);return null===i||null===u?null:Object(o.a)(Object(o.a)({},i),u)}return y(e)}}]),e}();function v(e){if(!/^P/.test(e))return null;var t=e.substr(1).split("T"),n=Object(l.a)(t,2),r=n[0],s=n[1],i={},u=/(\d+(?:\.\d+)?)Y/.exec(r);return u&&(i.years=+u[1]),(u=/(\d+(?:\.\d+)?)M/.exec(r))&&(i.months=+u[1]),(u=/(\d+(?:\.\d+)?)W/.exec(r))&&(i.weeks=+u[1]),(u=/(\d+(?:\.\d+)?)D/.exec(r))&&(i.days=+u[1]),(u=/(\d+(?:\.\d+)?)H/.exec(s))&&(i.hours=+u[1]),(u=/(\d+(?:\.\d+)?)M/.exec(s))&&(i.minutes=+u[1]),(u=/(\d+(?:\.\d+)?)S/.exec(s))&&(i.seconds=+u[1]),i}var j=function(){function e(t){Object(c.a)(this,e),Object.assign(this,t)}return Object(d.a)(e,[{key:"start",get:function(){if(this.first)return this.first.start;if(this.period&&this.last)return function(e,t){var n=new Date(t.start);return e.years&&n.setFullYear(n.getFullYear()-e.years),e.months&&n.setMonth(n.getMonth()-e.months),e.weeks&&n.setDate(n.getDate()-7*e.weeks),e.days&&n.setDate(n.getDate()-e.days),e.hours&&n.setHours(n.getHours()-e.hours),e.minutes&&n.setMinutes(n.getMinutes()-e.minutes),e.seconds&&n.setSeconds(n.getSeconds()-e.seconds),n}(this.period,this.last);throw new Error("DateTimeInterval was underspecified")}},{key:"end",get:function(){if(this.last)return this.last.start;if(this.first&&this.period)return e=this.first,t=this.period,m(e.start,t);var e,t;throw new Error("DateTimeInterval was underspecified")}}],[{key:"parse",value:function(e){var t=0,n=/^R(\d*)\//.exec(e);if(n&&(t=n[1]?+n[1]:1/0,e=e.substr(n[0].length)),!/\//.test(e))return null;var r=e.split("/",2),s=Object(l.a)(r,2),i=s[0],u=s[1],a=b.parse(i);if(a){var o=new b(a),c=function(e,t){var n=e.split("T",2),r=Object(l.a)(n,2),s=r[0],i=r[1],u=Object.assign({},t),a=/^(\d{2})$/.exec(s);if(a){var o=t.year,c=t.month,d=t.day,h=t.hour,m=t.minute,b=t.second,v=new Date(t.start),j=new Date(t.end);if(i)if("number"===typeof d){if(d=+a[1],v.setDate(d),j.setDate(d+1),d>f(v))return null}else{if("number"!==typeof c)return null;if(c=+a[1],v.setMonth(c-1),j.setMonth(c),c>12)return null}else if("number"===typeof b){if((b=+a[1])>61)return null;v.setSeconds(b),j.setSeconds(b+1)}else if("number"===typeof m){if((m=+a[1])>60)return null;v.setMinutes(m),j.setMinutes(m+1)}else if("number"===typeof h){if((h=+a[1])>23)return null;v.setHours(h),j.setHours(h+1)}else if("number"===typeof d){if(d=+a[1],v.setDate(d),j.setDate(d+1),d<1||d>f(v))return null}else{if("number"!==typeof c)return null;if((c=+a[1])<1||c>12)return null;v.setMonth(c-1),j.setMonth(c)}u={year:o,month:c,day:d,hour:h,minute:m,second:b}}else if(a=/^(\d{2})-(\d{2})$/.exec(s)){var g=t.year,D=t.month,w=t.day,x=t.hour,O=t.minute,T=t.second,M=new Date(t.start),S=new Date(t.end);if("number"!==typeof w||"number"!==typeof D)return null;if(D=+a[1],w=+a[2],M.setMonth(D-1),S.setMonth(D-1),M.setDate(w),S.setDate(w+1),D<1||D>12)return null;if(w<1||w>f(M))return null;u={year:g,month:D,day:w,hour:x,minute:O,second:T}}else{var k=t.year;if((a=/^\d{3}$/.exec(s))&&"number"===typeof k)u={year:k,yearDay:+a[0]};else{var F=y(s);if(F)return F;i=s}}if(i)if(a=/^(\d{2}):(\d{2})$/.exec(i)){var Y=u,H=Y.year,$=Y.month,I=Y.day,z=Y.hour,E=Y.minute,W=Y.second,J=new Date(u.start),N=new Date(u.end);if("number"===typeof W)E=+a[1],W=+a[2],J.setMinutes(E),N.setMinutes(E),J.setSeconds(W),N.setSeconds(W+1);else{if("number"!==typeof E)return null;if(z=+a[1],E=+a[2],J.setHours(z),N.setHours(z),J.setMinutes(E),N.setMinutes(E+1),z>23)return null;if(E>60)return null}u={year:H,month:$,day:I,hour:z,minute:E,second:W}}else{var R=p(i);if(!R)return null;var L=new Date(u.start),P=new Date(u.end);if(L.setHours(R.hour),P.setHours(R.hour),L.setMinutes(R.minute),P.setMinutes(R.minute),L.setSeconds(R.second),P.setSeconds(R.second+1),Object.assign(u,R),R.hour>23)return null;if(R.minute>60)return null;if(R.second>61)return null}return u}(u,o);if(c)return{first:o,last:new b(c),repetitions:t};var d=v(u);return d?{first:o,period:d,repetitions:t}:null}var h=v(i);if(h){var m=b.parse(u);if(u)return{period:h,last:new b(m),repetitions:t}}return null}}]),e}(),g=n(9),D=n.n(g),w=D.a.mark(x);function x(e){var t,n,r;return D.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t={start:e.start,end:e.end,period:e.period,first:null,last:null,repetitions:0},n=0;case 2:if(!(n<e.repetitions+1)){s.next=9;break}return s.next=5,t;case 5:e.period?t={start:t.end,end:m(t.end,e.period),period:e.period,first:null,last:null,repetitions:null}:(r=+t.end-+t.start,t={start:t.end,end:new Date(+t.end+r),period:null,first:null,last:null,repetitions:null});case 6:n++,s.next=2;break;case 9:case"end":return s.stop()}}),w)}function O(e){var t=b.parse(e);if(t)return new b(t);var n=j.parse(e);return n?new j(n):null}var T=n(0);function M(){var e,t,n=Object(r.useState)((function(){return window.location.hash.length>1?window.location.hash.substr(1):""})),s=Object(l.a)(n,2),i=s[0],u=s[1];return Object(r.useEffect)((function(){var e="ISO8601 - ".concat(i);window.history.replaceState(null,e,"#".concat(i)),document.title=e}),[i]),Object(r.useEffect)((function(){function e(){u(window.location.hash.substr(1))}return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}}),[]),i&&((e=O(i))||(t="Invalid Input: "+i)),Object(T.jsxs)("div",{style:{padding:"2em",display:"flex",flexDirection:"column"},children:[Object(T.jsx)("input",{value:i,onChange:function(e){return u(e.target.value)},style:{margin:4,fontSize:"1.5em"},placeholder:"Input"}),t&&Object(T.jsx)("p",{style:{color:"red"},children:t}),e&&Object(T.jsx)(S,{value:e,label:"Input: ".concat(i)}),Object(T.jsx)("h2",{children:"Test Values"}),["2","20","202","2021","2021-01","2021-01-18","2021-01-18T15","2021-01-18T15:30","2021-01-18T15:30:00","2021-W03","2021-W03-1","2021-018","20210623","2021174","2021W25","2021W253","2021-018T15","2021-018T15:30","2021-018T15:30:00","2021-018T15:30:00.5","2021051T10\u221205","20210510TZ","2021-018/P1M","2021-018/P1DT1M","R5/2021-018/P1W","R3/2012-10-01T14:12:01/10T16:19:35","R2/2012-10-01T14:12/12-10T16:19","R2/2012-10-01T14:12:01/12-10T16:19"].map((function(e,t){return Object(T.jsx)(S,{value:O(e),label:"Input: ".concat(e)},t)}))]})}function S(e){var t=e.value,n=e.label,s=void 0===n?"":n,i=Object(r.useState)(!1),u=Object(l.a)(i,2),c=u[0],d=u[1];if(!t)return Object(T.jsx)("div",{style:{color:"red"},children:"STILL TESTING"});var f={margin:0},m=Object(o.a)(Object(o.a)({},f),{},{fontFamily:"monospace",color:"#333"}),y={color:"#666",fontSize:"0.8em"},p=t instanceof b?"DateTime":"DateTimeInterval",v=t instanceof j?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e.repetitions===1/0)return F(x(e),t+1).slice(1);return Object(a.a)(x(e)).slice(1,1+t)}(t,100):[];return h(t.start)&&h(t.end)?Object(T.jsxs)("div",{style:{margin:4,padding:8,border:"1px solid #333",cursor:"pointer"},onClick:function(){return d(!c)},children:[s&&Object(T.jsx)("p",{style:m,children:s}),Object(T.jsxs)("p",{style:f,children:[Object(T.jsx)("time",{dateTime:H(t.start),children:Y(t.start)}),Object(T.jsxs)("span",{style:y,children:[" \u2264 ",p," < "]}),Object(T.jsx)("time",{dateTime:H(t.end),children:Y(t.end)})]}),v.map((function(e,t){return Object(T.jsxs)("p",{style:f,children:[Object(T.jsx)("time",{dateTime:H(e.start),children:Y(e.start)}),Object(T.jsxs)("span",{style:y,children:[" \u2264 ",p," < "]}),Object(T.jsx)("time",{dateTime:H(e.end),children:Y(e.end)})," ",Object(T.jsxs)("span",{style:y,children:["(",k(t+1)," Repetition)"]})]},t)})),t instanceof j&&v.length<t.repetitions&&Object(T.jsxs)("p",{style:Object(o.a)(Object(o.a)({},f),y),children:["\u2026 ",t.repetitions-v.length," more not shown"]}),c&&Object(T.jsx)("code",{children:JSON.stringify(t)})]}):Object(T.jsxs)("code",{style:{color:"darkred"},children:["Javascript Date error ",JSON.stringify(t)]})}function k(e){return"".concat(e,11===e||12===e||13===e?"th":e%10===1?"st":e%10===2?"nd":e%10===3?"rd":"th")}function F(e,t){for(var n=[],r=0;r++<t;){var s=e.next();if(s.done||"undefined"===typeof s.value)break;n.push(s.value)}return n}function Y(e){if(!h(e))return Object(T.jsx)("code",{style:{color:"darkred"},children:"Javascript Date error"});if(e.getFullYear()<0)return H(e);try{return new Intl.DateTimeFormat([],{dateStyle:"long",timeStyle:"long"}).format(e)}catch(t){return H(e)}}function H(e){if(!h(e))return null;try{return e.toISOString()}catch(t){return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"))}}n(19);var $=function(){return Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(M,{})})};u.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)($,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.370a8b5e.chunk.js.map